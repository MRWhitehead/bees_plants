---
title: "make_json"
author: "Michael Whitehead"
format: html
editor: visual
---

## Import bee data and convert to .json format

When you click the **Render** button a document will be generated that includes both content and the output of embedded code. You can embed code like this:

```{r load packages}
library(tidyverse)
```

```{r import csv and rename}
halictid <- read.csv('halictidae_batley.csv', fileEncoding="UTF-8-BOM")

halictid$source <- 'ausmus'

halictid <- rename(halictid, bee = Bee.species, flower.genus = Flower.genus, flower.species = Flower.species, flower.family = Flower.family, female = Females, male = Males)


```

```{r fix bee species variable}

cond1 <- ifelse(halictid$bee == '', TRUE, FALSE)


for(i in 1:nrow(halictid)){
  if(cond1[i] == TRUE){
    halictid$bee[i] <- halictid$bee[i-1]
  } else {
  halictid$bee[i] <- halictid$bee[i]
}
}

halictid <- halictid %>%
  filter(flower.genus != '')

```

You can add options to executable code like this

```{r}
#| echo: false
2 * 2
```

The `echo: false` option disables the printing of code (only output is displayed).
